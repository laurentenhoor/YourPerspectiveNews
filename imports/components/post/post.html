<div class="add-perspective">
	
	<form ng-submit="$ctrl.post()" name=addPost novalidate>
		
		<input type="url" ng-model="$ctrl.url" ng-change="$ctrl.urlChange()" class="post-input-url" placeholder="Plak hier een url naar een verfrissend perspectief..." required name="newUrl" http-prefix select-on-click/>
	
		<div class="post-edit-container" ng-if="$ctrl.postMetaDataAvailable">
			<a href="{{$ctrl.url}}">
				<div class="post-edit-image" ng-if="$ctrl.imageUrl"
					ng-style="{'background-image':'url(\'' + $ctrl.imageUrl + '\')'}">

					<div ng-bind-html="$ctrl.publisher" class="post-edit-publisher"
						type="text" name="text" name="publisher"></div>
					<div ng-bind-html="$ctrl.title" class="post-edit-title"></div>

				</div>
				
				<div class="post-edit-footer">
					<div class="post-edit-logo"
						ng-style="{'background-image': 'url(\'' + $ctrl.logoUrl + '\')'}"></div>
					<div ng-bind-html="$ctrl.description" class="post-edit-description"></div>
				</div>

			</a> 
			
			<input ng-model="$ctrl.userMessage" class=""
				autofocus="true" placeholder="Waarom gaat dit onze blik verruimen?" required />
			
			<input type="submit" class="post-input-button" value="Toevoegen" ng-disabled="addPost.$invalid"/>
			
		</div>

	</form>
</div>

<div class="view-posts">

		<div ng-repeat="post in $ctrl.posts" class="post-edit-container">
			
			
				<div class="post-view-message-container">
				
					
					<div class="voting" ng-init="id=post._id" >
						<div ng-click="$ctrl.upVote(id)" class="arrow-up"></div>
						<div class="post-score">{{post.score}}</div>
						<div ng-click="$ctrl.downVote(id)" class="arrow-down"></div>
					</div>
					<div class="post-view-message" ng-bind="post.userMessage"></div>
					
				</div>
			
			<a href="{{post.url}}">
			
				<!-- <img src="{{post.imageUrl}}" style="width:20vw; height:20vw;"/> -->
				<div class="post-edit-image" ng-if="post.imageUrl"
					ng-style="{'background-image':'url(\'' + post.imageUrl + '\')'}">
					<!-- ng-style="{'background-image':'url({{post.imageUrl}})'}"> -->

					<div ng-bind-html="post.publisher" class="post-edit-publisher"
						type="text" name="text" name="publisher"></div>
					<div ng-bind-html="post.title" class="post-edit-title"></div>

				</div>
				
				<div class="post-edit-footer">
					<div class="post-edit-logo"
						ng-style="{'background-image': 'url(\'' + post.logoUrl + '\')'}"></div>
					<div ng-bind-html="post.description" class="post-edit-description"></div>
				</div>

			</a> 			
			
		</div>

</div>